{"version":3,"file":"component---src-pages-contact-js-55af27c8174eb75b270b.js","mappings":"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","sources":["webpack://vosbor-frontpage/./src/helpers/contactForm.js","webpack://vosbor-frontpage/./src/pages/contact.js","webpack://vosbor-frontpage/./src/images/chevron.svg"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Spinner } from \"./form-sections\";\nimport { media } from \"./media-queries\";\nimport { SubmitButton } from \"../components/ButtonLink\";\nimport { LabeledInput } from \"../components/LabeledInput\";\nimport { LabeledTextarea } from \"../components/LabeledTextarea\";\nimport { FormElementsColumnWrapper } from \"../helpers/form-sections\";\nimport InputValidIcon from \"../images/input_valid.svg\";\nimport { isEmailFormatValid } from \"../helpers/email\";\n\n/*\n        action=\"https://europe-west1-vosbor-io.cloudfunctions.net/function-vosbor-form-mailer\"\n        method=\"POST\"\n        autoComplete=\"off\"\n        enctype=\"multipart/form-data\"\n*/\n\nexport const FormType = {\n  press: \"press\",\n  info: \"info\",\n};\n\nexport const ContactForm = ({ type }) => {\n  const [name, setName] = useState(\"\");\n  const [company, setCompany] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const isPressForm = type === FormType.press;\n\n  const isFormSatisfied =\n    name &&\n    isEmailFormatValid(email) &&\n    message &&\n    (isPressForm ? !!company : true);\n\n  const onFormSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitted(true);\n\n    if (!isFormSatisfied) {\n      return;\n    }\n\n    setLoading(true);\n\n    const url =\n      \"https://europe-west1-vosbor-io.cloudfunctions.net/function-vosbor-form-mailer\";\n    const formData = new FormData();\n    formData.append(\"type\", type);\n    formData.append(\"name\", name);\n    formData.append(\"company\", company);\n    formData.append(\"email\", email);\n    formData.append(\"message\", message);\n    const config = {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      body: formData,\n    };\n\n    try {\n      const response = await fetch(url, config);\n\n      console.log(response.data);\n      window.location = \"/response-ok\";\n    } catch (error) {\n      console.log(\"ERROR:\", error);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <FormWrapper>\n      {loading && <Spinner />}\n      <Form onSubmit={onFormSubmit}>\n        <input type=\"hidden\" name=\"type\" value={type} />\n        <FormElementsColumnWrapper>\n          <LabeledInput\n            type=\"text\"\n            placeholder=\"Enter full name\"\n            name=\"name\"\n            autoComplete=\"off\"\n            onChange={(e) => setName(e?.target?.value.trim())}\n            disabled={loading}\n            label=\"Full name\"\n            required\n            icon={name && <InputValidIcon />}\n            isInvalid={isSubmitted && name === \"\"}\n          />\n          <LabeledInput\n            type=\"text\"\n            placeholder=\"Enter company name\"\n            name=\"company\"\n            autoComplete=\"off\"\n            onChange={(e) => setCompany(e?.target?.value.trim())}\n            disabled={loading}\n            label=\"Company\"\n            icon={company && <InputValidIcon />}\n            required={isPressForm}\n            isInvalid={isPressForm && isSubmitted && company === \"\"}\n          />\n        </FormElementsColumnWrapper>\n        <LabeledInput\n          type=\"email\"\n          placeholder=\"Enter email address\"\n          name=\"email\"\n          autoComplete=\"off\"\n          onChange={(e) => setEmail(e?.target?.value.trim())}\n          disabled={loading}\n          required\n          label=\"Email address\"\n          icon={isEmailFormatValid(email) && <InputValidIcon />}\n          isInvalid={isSubmitted && !isEmailFormatValid(email)}\n        />\n        <LabeledTextarea\n          placeholder=\"Type message...\"\n          name=\"message\"\n          autoComplete=\"off\"\n          onChange={(e) => setMessage(e?.target?.value.trim())}\n          disabled={loading}\n          label=\"Message\"\n          required\n          icon={message && <InputValidIcon />}\n          isInvalid={isSubmitted && message === \"\"}\n        />\n        <InfoText>\n          Your data will only be used by authorised Vosbor personnel, not\n          distributed to third parties and only used to contact you and to send\n          you our newsletter. By using the contact form you agree to our privacy\n          policy.\n        </InfoText>\n        <StyledSubmitButton disabled={loading}>Submit</StyledSubmitButton>\n      </Form>\n    </FormWrapper>\n  );\n};\n\nconst FormWrapper = styled.div`\n  ${media.m`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  `}\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  ${media.m`\n    max-width: 560px;\n    width: 100%;\n  `}\n`;\n\nconst InfoText = styled.div`\n  font-family: \"Roboto\";\n  font-style: normal;\n  font-weight: 400;\n  font-size: 9px;\n  line-height: 18px;\n  text-align: right;\n  letter-spacing: 0.002em;\n  color: #747487;\n  ${media.m`\n    max-width: 440px;\n    align-self: end;\n  `}\n`;\n\nconst StyledSubmitButton = styled(SubmitButton)`\n  margin-top: 24px;\n  width: 100%;\n\n  ${media.m`\n    width: 160px;\n  `}\n`;\n","import { Link } from \"gatsby\";\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport { ContactForm, FormType } from \"../helpers/contactForm\";\nimport { Footer } from \"../helpers/footer\";\nimport {\n  FormSection,\n  FormSectionTitle,\n  FormText,\n  FormTitle,\n} from \"../helpers/form-sections\";\nimport { MainHeader } from \"../helpers/header\";\nimport { SeoComponent } from \"../helpers/seoComponent\";\nimport Chevron from \"../images/chevron.svg\";\n\n// markup\nconst ContactPage = () => {\n  return (\n    <SeoComponent>\n      <main>\n        <MainHeader dark />\n        <FormSection>\n          <div>\n            <FormTitle>Contact</FormTitle>\n            <FormText>\n              We drive access and transparency across agricultural commodity\n              markets, enabling our users to capture more value. Interested to\n              learn more?\n            </FormText>\n\n            <Link to=\"/press\" style={{ textDecoration: \"none\" }}>\n              <ContactLink>\n                <StyledFormSectionTitle>Press inquiry </StyledFormSectionTitle>\n                <IconWrapper>\n                  <Chevron />\n                </IconWrapper>\n              </ContactLink>\n            </Link>\n\n            <FormText>\n              For Vosbor's resources for journalists and more information,\n              please contact our PR team.\n            </FormText>\n\n            <Link to=\"/careers\" style={{ textDecoration: \"none\" }}>\n              <ContactLink>\n                <StyledFormSectionTitle>Careers</StyledFormSectionTitle>\n                <IconWrapper>\n                  <Chevron />\n                </IconWrapper>\n              </ContactLink>\n            </Link>\n\n            <FormText>\n              Interested in helping us build the sustainable trade system that\n              can meet the nutrition challenges of the future? We would love to\n              hear from you.\n            </FormText>\n          </div>\n          <ContactFormWrapper>\n            <ContactForm type={FormType.info}></ContactForm>\n          </ContactFormWrapper>\n        </FormSection>\n        <Footer />\n      </main>\n    </SeoComponent>\n  );\n};\n\nexport default ContactPage;\n\nconst ContactLink = styled.div`\n  display: flex;\n  margin-top: 40px;\n  align-items: center;\n  gap: 5px;\n`;\n\nconst IconWrapper = styled.div`\n  position: relative;\n  width: 16px;\n  height: 16px;\n\n  & svg {\n    position: absolute;\n  }\n`;\n\nconst StyledFormSectionTitle = styled(FormSectionTitle)`\n  margin: 0;\n\n  &:hover {\n    color: #717178;\n  }\n`;\n\nconst ContactFormWrapper = styled.div`\n  margin-top: 40px;\n`;\n","var React = require('react');\n\nfunction Chevron (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"clipRule\":\"evenodd\",\"d\":\"M5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L8.58579 8L5.29289 4.70711C4.90237 4.31658 4.90237 3.68342 5.29289 3.29289C5.68342 2.90237 6.31658 2.90237 6.70711 3.29289L10.7071 7.29289C11.0976 7.68342 11.0976 8.31658 10.7071 8.70711L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071Z\",\"fill\":\"currentColor\"}));\n}\n\nChevron.defaultProps = {\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\"};\n\nmodule.exports = Chevron;\n\nChevron.default = Chevron;\n"],"names":["FormType","press","info","ContactForm","type","useState","name","setName","company","setCompany","email","setEmail","message","setMessage","isSubmitted","setIsSubmitted","loading","setLoading","isPressForm","isFormSatisfied","isEmailFormatValid","onFormSubmit","e","preventDefault","formData","FormData","append","config","method","mode","cache","body","fetch","response","console","log","data","window","location","FormWrapper","Form","onSubmit","value","L","placeholder","autoComplete","onChange","target","trim","disabled","label","required","icon","isInvalid","InfoText","StyledSubmitButton","styled","media","SubmitButton","dark","Link","to","style","textDecoration","ContactLink","StyledFormSectionTitle","IconWrapper","ContactFormWrapper","FormSectionTitle","React","Chevron","props","createElement","defaultProps","module","exports","default"],"sourceRoot":""}